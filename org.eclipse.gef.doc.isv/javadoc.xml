<project name="GenerateJavadoc" default="start" basedir="../">

<property name="pluginName" value="org.eclipse.gef.doc.isv" />

<target name="init">
	<property name="pluginDir" value="${basedir}/${pluginName}" />
	<property name="targetDir" value="w:/eclipse/plugins" />
	<property name="docDir" value="${pluginDir}/reference/api" />
	<delete dir="${docDir}" />
	<mkdir dir="${docDir}" />
</target>

<target name="start" depends="init">
	<echo message="${basedir}" />
	<javadoc	destdir="${docDir}"
				sourcepath="${basedir}/org.eclipse.gef/src"
				packagenames="org.eclipse.gef,
				              org.eclipse.gef.commands,
				              org.eclipse.gef.dnd,
				              org.eclipse.gef.editparts,
				              org.eclipse.gef.editpolicies,
				              org.eclipse.gef.handles,
				              org.eclipse.gef.palette,
				              org.eclipse.gef.requests,
				              org.eclipse.gef.tools,
				              org.eclipse.gef.ui.actions,
				              org.eclipse.gef.ui.console,
				              org.eclipse.gef.ui.palette,
				              org.eclipse.gef.ui.parts,
				              org.eclipse.gef.ui.stackview"
				classpath="${basedir}/org.eclipse.draw2d/bin;
				           ${basedir}/org.eclipse.gef/bin;
				           ${targetDir}/org.apache.xerces_4.0.3/xerces.jar;
				           ${targetDir}/org.eclipse.core.boot_2.0.0/boot.jar;
				           ${targetDir}/org.eclipse.core.resources_2.0.0/resources.jar;
				           ${targetDir}/org.eclipse.core.runtime_2.0.0/runtime.jar;
				           ${targetDir}/org.eclipse.debug.core_2.0.0/dtcore.jar;
				           ${targetDir}/org.eclipse.debug.ui_2.0.0/dtui.jar;
				           ${targetDir}/org.eclipse.help_2.0.0/help.jar;
				           ${targetDir}/org.eclipse.help.ui_2.0.0/helpworkbench.jar;
				           ${targetDir}/org.eclipse.swt_2.0.0/swt.jar;
				           ${targetDir}/org.eclipse.swt.win32_2.0.0/ws/win32/swt.jar;
				           ${targetDir}/org.eclipse.ui_2.0.0/workbench.jar;
				           ${targetDir}/org.eclipse.webdav_2.0.0/webdav.jar;."
				Windowtitle="Graphical Editing Framework API Specification"
				Doctitle="GEF API Specification"
				Header="GEF v2.0"
				Overview="${basedir}/org.eclipse.gef/src/overview.html">
		<link offline="true" href="../../../org.eclipse.platform.doc.isv/reference/api" packagelistLoc="${basedir}/org.eclipse.platform.doc.isv/reference/api"/>
		<link offline="true" href="../../../org.eclipse.draw2d.doc.isv/reference/api" packagelistLoc="${basedir}/org.eclipse.draw2d.doc.isv/reference/api"/>
		<link href="http://java.sun.com/j2se/1.3/docs/api/" />
	</javadoc>
	<delete file="${pluginDir}/doc.zip" />
	<zip basedir="${pluginDir}" zipfile="${pluginDir}/doc.zip" excludes="*,bin/,icons/" />
</target>

</project>

