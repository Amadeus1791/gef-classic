<project name="GenerateJavadoc" default="start" basedir="../">

<property name="pluginName" value="org.eclipse.gef.doc.isv" />

<target name="init">
	<property name="pluginDir" value="${basedir}/${pluginName}" />
	<property name="targetDir" value=".." />
	<property name="docDir" value="${pluginDir}/reference/api" />
	<delete dir="${docDir}" />
	<mkdir dir="${docDir}" />
</target>

<target name="start" depends="init">
	<echo message="${basedir}" />
	<javadoc destdir="${docDir}"
				sourcepath="../org.eclipse.gef/src"
				packagenames="org.eclipse.gef,
				              org.eclipse.gef.commands,
				              org.eclipse.gef.dnd,
				              org.eclipse.gef.editparts,
				              org.eclipse.gef.editpolicies,
				              org.eclipse.gef.handles,
				              org.eclipse.gef.palette,
				              org.eclipse.gef.requests,
				              org.eclipse.gef.tools,
				              org.eclipse.gef.ui.actions,
				              org.eclipse.gef.ui.console,
				              org.eclipse.gef.ui.palette,
				              org.eclipse.gef.ui.parts,
				              org.eclipse.gef.ui.stackview"
				classpath="../org.eclipse.draw2d/runtime/draw2d.jar;
				           ../org.eclipse.gef/runtime/gef.jar;
				           ${targetDir}/org.apache.xerces/xerces.jar;
				           ${targetDir}/org.eclipse.core.boot/boot.jar;
				           ${targetDir}/org.eclipse.core.resources/resources.jar;
				           ${targetDir}/org.eclipse.core.runtime/runtime.jar;
				           ${targetDir}/org.eclipse.debug.core/dtcore.jar;
				           ${targetDir}/org.eclipse.debug.ui/dtui.jar;
				           ${targetDir}/org.eclipse.help/help.jar;
				           ${targetDir}/org.eclipse.help.ui/helpworkbench.jar;
				           ${targetDir}/org.eclipse.swt.win32/ws/win32/swt.jar;
				           ${targetDir}/org.eclipse.ui/workbench.jar;
				           ${targetDir}/org.eclipse.webdav/webdav.jar;."
				Windowtitle="Graphical Editing Framework API Specification"
				Doctitle="GEF API Specification"
				Header="GEF v2.0"
				Overview="${basedir}/org.eclipse.gef/src/overview.html">
		<link offline="true" href="../../../org.eclipse.platform.doc.isv/reference/api" packagelistLoc="${basedir}/org.eclipse.platform.doc.isv/reference/api"/>
		<link offline="true" href="../../../org.eclipse.draw2d.doc.isv/reference/api" packagelistLoc="${basedir}/org.eclipse.draw2d.doc.isv/reference/api"/>
		<link href="http://java.sun.com/j2se/1.3/docs/api/" />
	</javadoc>
	<delete file="${pluginDir}/doc.zip" />
	<zip basedir="${pluginDir}" zipfile="${pluginDir}/doc.zip" excludes="*,bin/,icons/" />
</target>

</project>

